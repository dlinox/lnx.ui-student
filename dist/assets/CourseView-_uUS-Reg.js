import{d as H,b as C,I as j,c as _,aY as z,w as l,a as e,k as G,V as S,r as R,e as k,ab as W,g as F,aW as O,h as A,i as u,o as s,ae as X,aS as T,F as P,aT as D,aU as L,aV as q,f as B,aC as o,aF as i,aZ as m,a_ as f,aX as Y,aE as Z,a$ as J}from"./index-BXNEzOpw.js";import{_ as K}from"./index-DFnzdqY-.js";import{_ as Q,b as h}from"./EnrollmentGroup.vue_vue_type_script_setup_true_lang-80Gow0vk.js";import{_ as ll,V as el}from"./VItem-BAMg8oIu.js";import{V as al}from"./VForm-DF-W9n-Z.js";import{V as M,a as v,b as tl}from"./VRow-CO1f27sH.js";const I=w=>!!w||"Obligatorio",U=()=>({moduleId:null,curriculumId:null,paymentAmount:null,paymentMethod:null,paymentDate:null,paymentSequence:null}),$={moduleId:[I],curriculumId:[I],paymentAmount:[I],paymentMethod:[I],paymentDate:[I],paymentSequence:[I]},ul=H({__name:"Enrollment",props:{studentId:{},module:{}},emits:["success"],setup(w,{emit:N}){const d=N,g=w,y=C(!1),c=C(!1),b=C($),a=C(Object.assign({},U())),x=async()=>{c.value=!0,await ll(a.value)&&(d("success"),y.value=!1),c.value=!1},E=async()=>{a.value=Object.assign({},U()),b.value=$,a.value.moduleId=g.module.id,a.value.paymentAmount=g.module.prices,a.value.curriculumId=g.module.curriculumId};return j(()=>y.value,n=>{n&&E()}),(n,t)=>{const r=R("LnxIcon");return s(),_(z,{"max-width":"600",modelValue:y.value,"onUpdate:modelValue":t[5]||(t[5]=p=>y.value=p),activator:"parent"},{default:l(()=>[e(al,{ref:"formRef",onSubmit:G(x,["prevent"])},{default:l(()=>{var p;return[e(S,{title:(p=n.module)==null?void 0:p.name,subtitle:"Registrar pago"},{default:l(()=>[e(S,{color:"info",variant:"tonal",subtitle:"El pago debe ser realizado con un dia de anticipación.",elevation:"0",class:"rounded-0"},{prepend:l(()=>[e(r,{iconName:"info-circle"})]),_:1}),e(k,{class:"border-t border-b"},{default:l(()=>[e(M,null,{default:l(()=>[e(v,{cols:"6"},{default:l(()=>[e(W,{modelValue:a.value.paymentMethod,"onUpdate:modelValue":t[0]||(t[0]=V=>a.value.paymentMethod=V),items:[{title:"BN - VENTANILLA",value:7},{title:"BN - PAGALO.PE",value:9}],label:"Pago en",rules:b.value.paymentMethod},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(F,{modelValue:a.value.paymentSequence,"onUpdate:modelValue":t[1]||(t[1]=V=>a.value.paymentSequence=V),label:"Numero de operacion",type:"number",rules:b.value.paymentSequence},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(F,{modelValue:a.value.paymentAmount,"onUpdate:modelValue":t[2]||(t[2]=V=>a.value.paymentAmount=V),readonly:"",label:"Monto",type:"number",rules:b.value.paymentAmount},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(F,{modelValue:a.value.paymentDate,"onUpdate:modelValue":t[3]||(t[3]=V=>a.value.paymentDate=V),label:"Fecha",type:"date",rules:b.value.paymentDate},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(O,null,{default:l(()=>[e(A,{type:"button",variant:"tonal",color:"secondary",onClick:t[4]||(t[4]=V=>y.value=!1)},{default:l(()=>t[6]||(t[6]=[u("Cancelar")])),_:1}),e(A,{text:"Matricular",color:"primary",type:"submit",loading:c.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]}),_:1},512)]),_:1},8,["modelValue"])}}}),ml=H({__name:"CourseView",setup(w){const N=J(),d=C(null),g=C([]),y=C(""),c=async()=>{y.value=N.params.id,d.value=await K(y.value,2),g.value=await h(d.value.id,2)};return X(()=>{c()}),(b,a)=>{var E;const x=R("LnxIcon");return s(),T(P,null,[e(S,{title:(E=d.value)==null?void 0:E.name,subtitle:"Cursos",class:"rounded-0",elevation:"0"},{append:l(()=>[e(A,{variant:"text",onClick:a[0]||(a[0]=n=>b.$router.go(-1))},{prepend:l(()=>[e(x,{iconName:"arrow-left-3",size:"large"})]),default:l(()=>[a[1]||(a[1]=u(" Atrás "))]),_:1})]),_:1},8,["title"]),e(tl,null,{default:l(()=>[e(M,{class:""},{default:l(()=>[e(v,{cols:"12",md:"7",lg:"8"},{default:l(()=>[e(M,null,{default:l(()=>[(s(!0),T(P,null,D(g.value,(n,t)=>(s(),_(v,{cols:"12",key:t},{default:l(()=>[e(S,{elevation:"0",class:"rounded-5 border",subtitle:n==null?void 0:n.area},{append:l(()=>{var r;return[n.hasEnrollment?(s(),_(Y,{key:0,color:"primary",rounded:"0",class:"rounded-0"},{default:l(()=>a[2]||(a[2]=[u(" Matriculado ")])),_:1})):L("",!0),((r=d.value)==null?void 0:r.isEnrolled)==!0&&!n.hasEnrollment?(s(),_(A,{key:1,density:"compact",variant:"outlined"},{default:l(()=>[e(Q,{course:n,onSuccess:c},null,8,["course"]),a[3]||(a[3]=u(" Inscríbete "))]),_:2},1024)):L("",!0)]}),default:l(()=>[e(q,{class:"pt-0"},{default:l(()=>[B("small",null,[B("strong",null,o(n.code)+" - ",1),u(" "+o(n.name),1)])]),_:2},1024),e(k,null,{default:l(()=>[u(o(n.description),1)]),_:2},1024),e(k,null,{default:l(()=>[B("small",null," Creditos "+o(n.credits)+" | "+o(n.hoursPractice)+" Hr. Practicas | "+o(n.hoursTheory)+" Hr. Teoricas ",1)]),_:2},1024),n.hasEnrollment?(s(!0),T(P,{key:0},D(n.enrollment,(r,p)=>(s(),_(k,{class:"border-t",key:p},{default:l(()=>[e(M,null,{default:l(()=>[e(v,{cols:"12",md:"6"},{default:l(()=>[e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[4]||(a[4]=[u("Periodo")])),_:1}),e(f,null,{default:l(()=>[u(o(r.period),1)]),_:2},1024)]),_:2},1024),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[5]||(a[5]=[u("Gupo")])),_:1}),e(f,null,{default:l(()=>[u(o(r.group),1)]),_:2},1024)]),_:2},1024),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[6]||(a[6]=[u("Docente")])),_:1}),e(f,null,{default:l(()=>[u(o(r.teacher),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(v,{cols:"12",md:"6"},{default:l(()=>[e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[7]||(a[7]=[u("Modalidad")])),_:1}),e(f,null,{default:l(()=>[u(o(r.modality),1)]),_:2},1024)]),_:2},1024),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[8]||(a[8]=[u("Laboratorio")])),_:1}),e(f,null,{default:l(()=>[u(o(r.laboratory),1)]),_:2},1024)]),_:2},1024),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[9]||(a[9]=[u("Horario")])),_:1}),e(f,null,{default:l(()=>[u(o(r.schedule),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)):L("",!0)]),_:2},1032,["subtitle"])]),_:2},1024))),128))]),_:1})]),_:1}),e(v,{cols:"12",md:"5",lg:"4"},{default:l(()=>[e(S,{elevation:"0",class:"rounded-5 border"},{default:l(()=>{var n;return[e(q,null,{default:l(()=>a[10]||(a[10]=[u("Contenido")])),_:1}),e(k,null,{default:l(()=>[e(Z,{"two-line":""},{default:l(()=>[e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[11]||(a[11]=[u(" Cursos ")])),_:1}),e(f,{"three-line":""},{default:l(()=>{var t,r,p;return[u(o((t=d.value)==null?void 0:t.coursesCount)+", "+o((r=d.value)==null?void 0:r.hoursPractice)+" Hr. Practicas, "+o((p=d.value)==null?void 0:p.hoursTheory)+" Hr. Teoricas ",1)]}),_:1})]),_:1}),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[12]||(a[12]=[u(" Cantidad de creditos ")])),_:1}),e(f,null,{default:l(()=>{var t;return[u(o((t=d.value)==null?void 0:t.credits),1)]}),_:1})]),_:1}),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[13]||(a[13]=[u(" Area(s) ")])),_:1}),e(f,null,{default:l(()=>{var t;return[u(o((t=d.value)==null?void 0:t.areas),1)]}),_:1})]),_:1}),e(i,null,{default:l(()=>[e(m,null,{default:l(()=>a[14]||(a[14]=[u(" Precio de matricula ")])),_:1}),e(f,null,{default:l(()=>{var t;return[u(" S/. "+o((t=d.value)==null?void 0:t.prices),1)]}),_:1})]),_:1})]),_:1})]),_:1}),((n=d.value)==null?void 0:n.isEnrolled)==!1?(s(),_(O,{key:0},{default:l(()=>{var t;return[((t=d.value)==null?void 0:t.prices)!==null?(s(),_(A,{key:0,block:"",class:"mt-2"},{default:l(()=>[a[15]||(a[15]=u(" Matricular ")),e(ul,{module:d.value,onSuccess:c},null,8,["module"])]),_:1})):(s(),_(el,{key:1,variant:"tonal",color:"error",class:"rounded-0"},{default:l(()=>a[16]||(a[16]=[u(" No se puede matricular, no hay precios establecidos. ")])),_:1}))]}),_:1})):L("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{ml as default};
