import{p as F,l as L,D as _,m as d,a9 as _e,E as N,aa as X,ab as q,j as Z,N as me,ac as Y,ad as j,P as fe,$ as z,n as G,a,q as M,z as ge,Z as $,ae as he,af as ye,ag as pe,ah as Ce,W as be,I as we,J as Se,ai as ke,aj as Ve,K as xe,ak as Te,al as Ne,am as Re,A as He,an as Ie,ao as Me,a0 as Le,ap as Ae,U as De,a1 as Ye,aq as ze,ar as Oe,as as We,at as Fe,F as Xe,au as Ue,av as $e,d as qe,aw as Ze,c as je,w as s,ax as oe,ay as B,r as ue,az as W,aA as Ge,g as re,aB as Ke,h as ie,a6 as se,e as U,o as Je}from"./index-CMWRQILe.js";import{u as K,m as J,V as Qe,a as et}from"./VMain-BoHh8bWj.js";import{V as ce,m as tt}from"./VToolbar-BD_j6AJ-.js";const at=F({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function lt(e){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:i}=h;let k=0,t=0;const l=L(null),n=_(0),m=_(0),r=_(0),u=_(!1),c=_(!1),o=d(()=>Number(e.scrollThreshold)),p=d(()=>_e((o.value-n.value)/o.value||0)),f=()=>{const v=l.value;if(!v||i&&!i.value)return;k=n.value,n.value="window"in v?v.pageYOffset:v.scrollTop;const V=v instanceof Window?document.documentElement.scrollHeight:v.scrollHeight;if(t!==V){t=V;return}c.value=n.value<k,r.value=Math.abs(n.value-o.value)};return N(c,()=>{m.value=m.value||n.value}),N(u,()=>{m.value=0}),X(()=>{N(()=>e.scrollTarget,v=>{var C;const V=v?document.querySelector(v):window;V&&V!==l.value&&((C=l.value)==null||C.removeEventListener("scroll",f),l.value=V,l.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),q(()=>{var v;(v=l.value)==null||v.removeEventListener("scroll",f)}),i&&N(i,f,{immediate:!0}),{scrollThreshold:o,currentScroll:n,currentThreshold:r,isScrollActive:u,scrollRatio:p,isScrollingUp:c,savedScroll:m}}const nt=F({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...tt(),...J(),...at(),height:{type:[Number,String],default:64}},"VAppBar"),ot=Z()({name:"VAppBar",props:nt(),emits:{"update:modelValue":e=>!0},setup(e,h){let{slots:i}=h;const k=L(),t=me(e,"modelValue"),l=d(()=>{var P;const b=new Set(((P=e.scrollBehavior)==null?void 0:P.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),n=d(()=>{const b=l.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!t.value}),{currentScroll:m,scrollThreshold:r,isScrollingUp:u,scrollRatio:c}=lt(e,{canScroll:n}),o=d(()=>l.value.hide||l.value.fullyHide),p=d(()=>e.collapse||l.value.collapse&&(l.value.inverted?c.value>0:c.value===0)),f=d(()=>e.flat||l.value.fullyHide&&!t.value||l.value.elevate&&(l.value.inverted?m.value>0:m.value===0)),v=d(()=>l.value.fadeImage?l.value.inverted?1-c.value:c.value:void 0),V=d(()=>{var I,R;if(l.value.hide&&l.value.inverted)return 0;const b=((I=k.value)==null?void 0:I.contentHeight)??0,P=((R=k.value)==null?void 0:R.extensionHeight)??0;return o.value?m.value<r.value||l.value.fullyHide?b+P:b:b+P});Y(d(()=>!!e.scrollBehavior),()=>{j(()=>{o.value?l.value.inverted?t.value=m.value>r.value:t.value=u.value||m.value<r.value:t.value=!0})});const{ssrBootStyles:C}=fe(),{layoutItemStyles:H}=K({id:e.name,order:d(()=>parseInt(e.order,10)),position:z(e,"location"),layoutSize:V,elementSize:_(void 0),active:t,absolute:z(e,"absolute")});return G(()=>{const b=ce.filterProps(e);return a(ce,M({ref:k,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...H.value,"--v-toolbar-image-opacity":v.value,height:void 0,...C.value},e.style]},b,{collapse:p.value,flat:f.value}),i)}),{}}}),ut=F({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Te(),...xe(),...Ve(),...J(),...ke(),...Se({tag:"footer"}),...we()},"VFooter"),rt=Z()({name:"VFooter",props:ut(),setup(e,h){let{slots:i}=h;const k=L(),{themeClasses:t}=ge(e),{backgroundColorClasses:l,backgroundColorStyles:n}=$(z(e,"color")),{borderClasses:m}=he(e),{elevationClasses:r}=ye(e),{roundedClasses:u}=pe(e),c=_(32),{resizeRef:o}=Ce(f=>{f.length&&(c.value=f[0].target.clientHeight)}),p=d(()=>e.height==="auto"?c.value:parseInt(e.height,10));return Y(()=>e.app,()=>{const f=K({id:e.name,order:d(()=>parseInt(e.order,10)),position:d(()=>"bottom"),layoutSize:p,elementSize:d(()=>e.height==="auto"?void 0:p.value),active:d(()=>e.app),absolute:z(e,"absolute")});j(()=>{k.value=f.layoutItemStyles.value})}),G(()=>a(e.tag,{ref:o,class:["v-footer",t.value,l.value,m.value,r.value,u.value,e.class],style:[n.value,e.app?k.value:{height:be(e.height)},e.style]},i)),{}}});function it(e){let{rootEl:h,isSticky:i,layoutItemStyles:k}=e;const t=_(!1),l=_(0),n=d(()=>{const u=typeof t.value=="boolean"?"top":t.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[u]:be(l.value)}:{top:k.value.top}]});X(()=>{N(i,u=>{u?window.addEventListener("scroll",r,{passive:!0}):window.removeEventListener("scroll",r)},{immediate:!0})}),q(()=>{window.removeEventListener("scroll",r)});let m=0;function r(){const u=m>window.scrollY?"up":"down",c=h.value.getBoundingClientRect(),o=parseFloat(k.value.top??0),p=window.scrollY-Math.max(0,l.value-o),f=c.height+Math.max(l.value,o)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(h.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-o?(t.value="top",l.value=o):u==="up"&&t.value==="bottom"||u==="down"&&t.value==="top"?(l.value=window.scrollY+c.top-v,t.value=!0):u==="down"&&f<=0?(l.value=0,t.value="bottom"):u==="up"&&p<=0&&(v?t.value!=="top"&&(l.value=-p+v+o,t.value="top"):(l.value=c.top+p,t.value="top")),m=window.scrollY}return{isStuck:t,stickyStyles:n}}const st=100,ct=20;function ve(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function de(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let h=0;for(let i=e.length-1;i>0;i--){if(e[i].t===e[i-1].t)continue;const k=ve(h),t=(e[i].d-e[i-1].d)/(e[i].t-e[i-1].t);h+=(t-k)*Math.abs(t),i===e.length-1&&(h*=.5)}return ve(h)*1e3}function vt(){const e={};function h(t){Array.from(t.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new Ne(ct))).push([t.timeStamp,l])})}function i(t){Array.from(t.changedTouches).forEach(l=>{delete e[l.identifier]})}function k(t){var u;const l=(u=e[t])==null?void 0:u.values().reverse();if(!l)throw new Error(`No samples for touch id ${t}`);const n=l[0],m=[],r=[];for(const c of l){if(n[0]-c[0]>st)break;m.push({t:c[0],d:c[1].clientX}),r.push({t:c[0],d:c[1].clientY})}return{x:de(m),y:de(r),get direction(){const{x:c,y:o}=this,[p,f]=[Math.abs(c),Math.abs(o)];return p>f&&c>=0?"right":p>f&&c<=0?"left":f>p&&o>=0?"down":f>p&&o<=0?"up":dt()}}}return{addMovement:h,endTouch:i,getVelocity:k}}function dt(){throw new Error}function mt(e){let{el:h,isActive:i,isTemporary:k,width:t,touchless:l,position:n}=e;X(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",I,{passive:!0})}),q(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",I)});const m=d(()=>["left","right"].includes(n.value)),{addMovement:r,endTouch:u,getVelocity:c}=vt();let o=!1;const p=_(!1),f=_(0),v=_(0);let V;function C(g,y){return(n.value==="left"?g:n.value==="right"?document.documentElement.clientWidth-g:n.value==="top"?g:n.value==="bottom"?document.documentElement.clientHeight-g:D())-(y?t.value:0)}function H(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const w=n.value==="left"?(g-v.value)/t.value:n.value==="right"?(document.documentElement.clientWidth-g-v.value)/t.value:n.value==="top"?(g-v.value)/t.value:n.value==="bottom"?(document.documentElement.clientHeight-g-v.value)/t.value:D();return y?Math.max(0,Math.min(1,w)):w}function b(g){if(l.value)return;const y=g.changedTouches[0].clientX,w=g.changedTouches[0].clientY,S=25,T=n.value==="left"?y<S:n.value==="right"?y>document.documentElement.clientWidth-S:n.value==="top"?w<S:n.value==="bottom"?w>document.documentElement.clientHeight-S:D(),x=i.value&&(n.value==="left"?y<t.value:n.value==="right"?y>document.documentElement.clientWidth-t.value:n.value==="top"?w<t.value:n.value==="bottom"?w>document.documentElement.clientHeight-t.value:D());(T||x||i.value&&k.value)&&(V=[y,w],v.value=C(m.value?y:w,i.value),f.value=H(m.value?y:w),o=v.value>-20&&v.value<80,u(g),r(g))}function P(g){const y=g.changedTouches[0].clientX,w=g.changedTouches[0].clientY;if(o){if(!g.cancelable){o=!1;return}const T=Math.abs(y-V[0]),x=Math.abs(w-V[1]);(m.value?T>x&&T>3:x>T&&x>3)?(p.value=!0,o=!1):(m.value?x:T)>3&&(o=!1)}if(!p.value)return;g.preventDefault(),r(g);const S=H(m.value?y:w,!1);f.value=Math.max(0,Math.min(1,S)),S>1?v.value=C(m.value?y:w,!0):S<0&&(v.value=C(m.value?y:w,!1))}function I(g){if(o=!1,!p.value)return;r(g),p.value=!1;const y=c(g.changedTouches[0].identifier),w=Math.abs(y.x),S=Math.abs(y.y);(m.value?w>S&&w>400:S>w&&S>3)?i.value=y.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||D()):i.value=f.value>.5}const R=d(()=>p.value?{transform:n.value==="left"?`translateX(calc(-100% + ${f.value*t.value}px))`:n.value==="right"?`translateX(calc(100% - ${f.value*t.value}px))`:n.value==="top"?`translateY(calc(-100% + ${f.value*t.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${f.value*t.value}px))`:D(),transition:"none"}:void 0);return Y(p,()=>{var w,S;const g=((w=h.value)==null?void 0:w.style.transform)??null,y=((S=h.value)==null?void 0:S.style.transition)??null;j(()=>{var T,x,A,O;(x=h.value)==null||x.style.setProperty("transform",((T=R.value)==null?void 0:T.transform)||"none"),(O=h.value)==null||O.style.setProperty("transition",((A=R.value)==null?void 0:A.transition)||null)}),Re(()=>{var T,x;(T=h.value)==null||T.style.setProperty("transform",g),(x=h.value)==null||x.style.setProperty("transition",y)})}),{isDragging:p,dragProgress:f,dragStyles:R}}function D(){throw new Error}const ft=["start","end","left","right","top","bottom"],gt=F({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ft.includes(e)},sticky:Boolean,...Te(),...xe(),...$e(),...Ue({mobile:null}),...Ve(),...J(),...ke(),...Se({tag:"nav"}),...we()},"VNavigationDrawer"),ht=Z()({name:"VNavigationDrawer",props:gt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,h){let{attrs:i,emit:k,slots:t}=h;const{isRtl:l}=He(),{themeClasses:n}=ge(e),{borderClasses:m}=he(e),{backgroundColorClasses:r,backgroundColorStyles:u}=$(z(e,"color")),{elevationClasses:c}=ye(e),{displayClasses:o,mobile:p}=Ie(e),{roundedClasses:f}=pe(e),v=Me(),V=me(e,"modelValue",null,E=>!!E),{ssrBootStyles:C}=fe(),{scopeId:H}=Le(),b=L(),P=_(!1),{runOpenDelay:I,runCloseDelay:R}=ze(e,E=>{P.value=E}),g=d(()=>e.rail&&e.expandOnHover&&P.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=d(()=>Ae(e.location,l.value)),w=d(()=>e.persistent),S=d(()=>!e.permanent&&(p.value||e.temporary)),T=d(()=>e.sticky&&!S.value&&y.value!=="bottom");Y(()=>e.expandOnHover&&e.rail!=null,()=>{N(P,E=>k("update:rail",!E))}),Y(()=>!e.disableResizeWatcher,()=>{N(S,E=>!e.permanent&&De(()=>V.value=!E))}),Y(()=>!e.disableRouteWatcher&&!!v,()=>{N(v.currentRoute,()=>S.value&&(V.value=!1))}),N(()=>e.permanent,E=>{E&&(V.value=!0)}),e.modelValue==null&&!S.value&&(V.value=e.permanent||!p.value);const{isDragging:x,dragProgress:A}=mt({el:b,isActive:V,isTemporary:S,width:g,touchless:z(e,"touchless"),position:y}),O=d(()=>{const E=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):g.value;return x.value?E*A.value:E}),{layoutItemStyles:Q,layoutItemScrimStyles:Ee}=K({id:e.name,order:d(()=>parseInt(e.order,10)),position:y,layoutSize:O,elementSize:g,active:d(()=>V.value||x.value),disableTransitions:d(()=>x.value),absolute:d(()=>e.absolute||T.value&&typeof ee.value!="string")}),{isStuck:ee,stickyStyles:Be}=it({rootEl:b,isSticky:T,layoutItemStyles:Q}),te=$(d(()=>typeof e.scrim=="string"?e.scrim:null)),Pe=d(()=>({...x.value?{opacity:A.value*.2,transition:"none"}:void 0,...Ee.value}));return Ye({VList:{bgColor:"transparent"}}),G(()=>{const E=t.image||e.image;return a(Xe,null,[a(e.tag,M({ref:b,onMouseenter:I,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":P.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--persistent":w.value,"v-navigation-drawer--active":V.value,"v-navigation-drawer--sticky":T.value},n.value,r.value,m.value,o.value,c.value,f.value,e.class],style:[u.value,Q.value,C.value,Be.value,e.style]},H,i),{default:()=>{var ae,le,ne;return[E&&a("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?a(We,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):a(Oe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&a("div",{class:"v-navigation-drawer__prepend"},[(ae=t.prepend)==null?void 0:ae.call(t)]),a("div",{class:"v-navigation-drawer__content"},[(le=t.default)==null?void 0:le.call(t)]),t.append&&a("div",{class:"v-navigation-drawer__append"},[(ne=t.append)==null?void 0:ne.call(t)])]}}),a(Fe,{name:"fade-transition"},{default:()=>[S.value&&(x.value||V.value)&&!!e.scrim&&a("div",M({class:["v-navigation-drawer__scrim",te.backgroundColorClasses.value],style:[Pe.value,te.backgroundColorStyles.value],onClick:()=>{w.value||(V.value=!1)}},H),null)]})])}),{isStuck:ee}}}),wt=qe({__name:"AdminLayout",setup(e){const h=L([""]),i=L(!1),k=Ze(),t=L(!0),l=async()=>{i.value=!0,i.value=!1},n=async()=>{};return X(()=>{n()}),(m,r)=>{const u=ue("LnxIcon"),c=ue("RouterView");return Je(),je(et,{app:""},{default:s(()=>[a(ht,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=o=>t.value=o),app:"",color:"blue-grey-lighten-5",border:0},{append:s(()=>[a(oe,{"three-line":""},{default:s(()=>[a(B,{class:"py-2 border-t",subtitle:Ge(k).authState.user.name,"prepend-avatar":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoPYGvsOKyoPhMLvER1SNT4W3RyX6VPeXTxg&s"},{append:s(()=>[a(re,{onClick:l,icon:"",density:"compact",variant:"tonal",loading:i.value},{default:s(()=>[a(Ke,null,{default:s(()=>r[3]||(r[3]=[ie("mdi-logout")])),_:1})]),_:1},8,["loading"])]),_:1},8,["subtitle"])]),_:1})]),default:s(()=>[a(oe,{nav:"",density:"compact",opened:h.value,"onUpdate:opened":r[0]||(r[0]=o=>h.value=o),color:"primary"},{default:s(()=>[a(B,{key:"dashboard",to:"/",title:"Dashboard",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"element-4"})]),_:1}),a(W,{value:"attendance"},{activator:s(({props:o})=>[a(B,M(o,{title:"Asistencia"}),{prepend:s(()=>[a(u,{iconName:"calendar-2"})]),_:2},1040)]),default:s(()=>[a(B,{title:"Registro de Ingreso",to:"/attendance/record",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"calendar-tick"})]),_:1}),a(B,{title:"Registro de Salida",to:"/attendance/record-out",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"calendar-remove"})]),_:1})]),_:1}),a(W,{value:"reports"},{activator:s(({props:o})=>[a(B,M(o,{title:"Reportes"}),{prepend:s(()=>[a(u,{iconName:"chart-21"})]),_:2},1040)]),default:s(()=>[a(B,{title:"Asistencia",to:"/reports",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"calendar-search"})]),_:1})]),_:1}),a(W,{value:"settings"},{activator:s(({props:o})=>[a(B,M(o,{title:"Configuración"}),{prepend:s(()=>[a(u,{iconName:"setting-2"})]),_:2},1040)]),default:s(()=>[a(B,{title:"Periodos",to:"/periods",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"calendar"})]),_:1}),a(B,{title:"Niveles de estudio",to:"/levels",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"level"})]),_:1}),a(B,{title:"Estudiantes",to:"/students",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"teacher"})]),_:1})]),_:1}),a(W,{value:"security"},{activator:s(({props:o})=>[a(B,M(o,{title:"Seguridad"}),{prepend:s(()=>[a(u,{iconName:"security"})]),_:2},1040)]),default:s(()=>[a(B,{title:"Usuarios",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"security-user"})]),_:1}),a(B,{title:"Roles",link:"",exact:""},{prepend:s(()=>[a(u,{iconName:"key-square"})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1},8,["modelValue"]),a(ot,{floating:"",elevation:"0",app:""},{append:s(()=>r[4]||(r[4]=[])),default:s(()=>[a(re,{icon:"",onClick:r[2]||(r[2]=o=>t.value=!t.value),size:"small"},{default:s(()=>[a(u,{iconName:"textalign-justifycenter"})]),_:1}),a(se)]),_:1}),a(Qe,null,{default:s(()=>[a(c)]),_:1}),a(rt,{app:""},{default:s(()=>[r[5]||(r[5]=U("iframe",{id:"printFrame",style:{display:"none"}},null,-1)),a(se),r[6]||(r[6]=U("small",null,[U("a",{href:"https://caripperu.com/",target:"_blank"},"CARIP PERU"),ie(" - Versión 1.0 ")],-1))]),_:1})]),_:1})}}});export{wt as default};
