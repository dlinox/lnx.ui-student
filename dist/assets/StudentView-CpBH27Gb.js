import{j as Wt,p as Zt,B as Xt,l as $,D as se,N as Me,m as W,aV as en,u as tn,aW as nn,aX as rn,aY as on,aZ as ln,E as ce,U as it,a_ as an,n as un,f as Y,a as d,q as ie,s as sn,a$ as cn,t as dn,b0 as fn,b1 as gn,b2 as hn,b3 as ut,b4 as st,b5 as mn,F as ve,aB as ct,b6 as vn,aT as Ot,ax as xt,ay as Be,b7 as pn,b8 as wn,b9 as yn,ba as Cn,bb as bn,as as En,h as Ie,d as rt,c as nt,aQ as Kt,w as P,aR as Sn,V as Ae,b as Ht,aA as z,a8 as Bn,aS as An,g as ne,o as Re,$ as Rn,bc as In,bd as Nn,aa as $t,r as me,e as dt,G as Vn,aU as Tn,aM as Pn}from"./index-CMWRQILe.js";import{h as pe,g as Mn}from"./index-BoZKkaqZ.js";import{r as ee}from"./rules.utils-DaB-ACZt.js";import{V as _n,a as kn}from"./VSwitch-B9IvAKOz.js";import{a as jt,V as K}from"./VRow-DB3tsM5B.js";const Ne="students",Ln=async e=>{try{return(await pe().post(`${Ne}/load-datatable`,e)).data.data}catch{return{}}},Dn=async e=>{try{return(await pe().get(`${Ne}/get-form-item/${e}`)).data.data}catch{return{}}},Fn=async e=>{try{return await pe().post(`${Ne}/save-item`,e),!0}catch{return!1}},Un=async e=>{try{return await pe().delete(`${Ne}/delete-item/${e}`),!0}catch{return!1}},qn=()=>({id:null,documentType:1,documentNumber:null,name:null,paternalSurname:null,maternalSurname:null,birthdate:null,gender:null,email:null,phone:null,address:null,levelId:null,isActive:!0}),zn={documentType:[ee],documentNumber:[ee],name:[ee],paternalSurname:[ee],maternalSurname:[ee],birthdate:[ee],gender:[ee],email:[],phone:[],address:[],levelId:[ee],isActive:[ee]};function On(e,o,l){if(o==null)return e;if(Array.isArray(o))throw new Error("Multiple matches is not implemented");return typeof o=="number"&&~o?d(ve,null,[d("span",{class:"v-autocomplete__unmask"},[e.substr(0,o)]),d("span",{class:"v-autocomplete__mask"},[e.substr(o,l)]),d("span",{class:"v-autocomplete__unmask"},[e.substr(o+l)])]):e}const xn=Zt({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...gn({filterKeys:["title"]}),...fn(),...dn(hn({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...cn({transition:!1})},"VAutocomplete"),Kn=Wt()({name:"VAutocomplete",props:xn(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,o){let{slots:l}=o;const{t:r}=Xt(),t=$(),n=se(!1),i=se(!0),u=se(!1),a=$(),g=$(),v=Me(e,"menu"),f=W({get:()=>v.value,set:h=>{var _;v.value&&!h&&((_=a.value)!=null&&_.Î¨openChildren.size)||(v.value=h)}}),s=se(-1),c=W(()=>{var h;return(h=t.value)==null?void 0:h.color}),I=W(()=>f.value?e.closeText:e.openText),{items:T,transformIn:L,transformOut:R}=en(e),{textColorClasses:M,textColorStyles:N}=tn(c),m=Me(e,"search",""),A=Me(e,"modelValue",[],h=>L(h===null?[null]:nn(h)),h=>{const _=R(h);return e.multiple?_:_[0]??null}),w=W(()=>typeof e.counterValue=="function"?e.counterValue(A.value):typeof e.counterValue=="number"?e.counterValue:A.value.length),E=rn(e),{filteredItems:S,getMatches:p}=on(e,T,()=>i.value?"":m.value),y=W(()=>e.hideSelected?S.value.filter(h=>!A.value.some(_=>_.value===h.value)):S.value),C=W(()=>!!(e.chips||l.chip)),b=W(()=>C.value||!!l.selection),B=W(()=>A.value.map(h=>h.props.value)),V=W(()=>{var _;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&m.value===((_=y.value[0])==null?void 0:_.title))&&y.value.length>0&&!i.value&&!u.value}),H=W(()=>e.hideNoData&&!y.value.length||E.isReadonly.value||E.isDisabled.value),X=$(),Ve=ln(X,t);function we(h){e.openOnClear&&(f.value=!0),m.value=""}function Te(){H.value||(f.value=!0)}function de(h){H.value||(n.value&&(h.preventDefault(),h.stopPropagation()),f.value=!f.value)}function le(h){var _;h.key!==" "&&ut(h)&&((_=t.value)==null||_.focus())}function ye(h){var k,D,O;if(E.isReadonly.value)return;const _=t.value.selectionStart,F=A.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(h.key)&&h.preventDefault(),["Enter","ArrowDown"].includes(h.key)&&(f.value=!0),["Escape"].includes(h.key)&&(f.value=!1),V.value&&["Enter","Tab"].includes(h.key)&&!A.value.some(U=>{let{value:q}=U;return q===y.value[0].value})&&G(y.value[0]),h.key==="ArrowDown"&&V.value&&((k=X.value)==null||k.focus("next")),["Backspace","Delete"].includes(h.key)){if(!e.multiple&&b.value&&A.value.length>0&&!m.value)return G(A.value[0],!1);if(~s.value){h.preventDefault();const U=s.value;G(A.value[s.value],!1),s.value=U>=F-1?F-2:U}else h.key==="Backspace"&&!m.value&&(s.value=F-1);return}if(e.multiple)if(h.key==="ArrowLeft"){if(s.value<0&&_>0)return;const U=s.value>-1?s.value-1:F-1;A.value[U]?s.value=U:(s.value=-1,t.value.setSelectionRange((D=m.value)==null?void 0:D.length,(O=m.value)==null?void 0:O.length))}else if(h.key==="ArrowRight"){if(s.value<0)return;const U=s.value+1;A.value[U]?s.value=U:(s.value=-1,t.value.setSelectionRange(0,0))}else~s.value&&ut(h)&&(s.value=-1)}function fe(h){if(st(t.value,":autofill")||st(t.value,":-webkit-autofill")){const _=T.value.find(F=>F.title===h.target.value);_&&G(_)}}function Pe(){var h;e.eager&&((h=g.value)==null||h.calculateVisibleItems())}function ge(){var h;n.value&&(i.value=!0,(h=t.value)==null||h.focus())}function Ce(h){n.value=!0,setTimeout(()=>{u.value=!0})}function j(h){u.value=!1}function J(h){(h==null||h===""&&!e.multiple&&!b.value)&&(A.value=[])}const Q=se(!1);function G(h){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!h||h.props.disabled))if(e.multiple){const F=A.value.findIndex(D=>(e.valueComparator||mn)(D.value,h.value)),k=_??!~F;if(~F){const D=k?[...A.value,h]:[...A.value];D.splice(F,1),A.value=D}else k&&(A.value=[...A.value,h]);e.clearOnSelect&&(m.value="")}else{const F=_!==!1;A.value=F?[h]:[],m.value=F&&!b.value?h.title:"",it(()=>{f.value=!1,i.value=!0})}}return ce(n,(h,_)=>{var F;h!==_&&(h?(Q.value=!0,m.value=e.multiple||b.value?"":String(((F=A.value.at(-1))==null?void 0:F.props.title)??""),i.value=!0,it(()=>Q.value=!1)):(!e.multiple&&m.value==null&&(A.value=[]),f.value=!1,A.value.some(k=>{let{title:D}=k;return D===m.value})||(m.value=""),s.value=-1))}),ce(m,h=>{!n.value||Q.value||(h&&(f.value=!0),i.value=!h)}),ce(f,()=>{if(!e.hideSelected&&f.value&&A.value.length){const h=y.value.findIndex(_=>A.value.some(F=>_.value===F.value));an&&window.requestAnimationFrame(()=>{var _;h>=0&&((_=g.value)==null||_.scrollToIndex(h))})}}),ce(()=>e.items,(h,_)=>{f.value||n.value&&!_.length&&h.length&&(f.value=!0)}),un(()=>{const h=!!(!e.hideNoData||y.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),_=A.value.length>0,F=Y.filterProps(e);return d(Y,ie({ref:t},F,{modelValue:m.value,"onUpdate:modelValue":[k=>m.value=k,J],focused:n.value,"onUpdate:focused":k=>n.value=k,validationValue:A.externalValue,counterValue:w.value,dirty:_,onChange:fe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":f.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!b.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:E.isReadonly.value,placeholder:_?void 0:e.placeholder,"onClick:clear":we,"onMousedown:control":Te,onKeydown:ye}),{...l,default:()=>d(ve,null,[d(Ot,ie({ref:a,modelValue:f.value,"onUpdate:modelValue":k=>f.value=k,activator:"parent",contentClass:"v-autocomplete__content",disabled:H.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Pe,onAfterLeave:ge},e.menuProps),{default:()=>[h&&d(xt,ie({ref:X,selected:B.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onKeydown:le,onFocusin:Ce,onFocusout:j,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ve,e.listProps),{default:()=>{var k,D,O;return[(k=l["prepend-item"])==null?void 0:k.call(l),!y.value.length&&!e.hideNoData&&(((D=l["no-data"])==null?void 0:D.call(l))??d(Be,{key:"no-data",title:r(e.noDataText)},null)),d(pn,{ref:g,renderless:!0,items:y.value},{default:U=>{var at;let{item:q,index:ae,itemRef:x}=U;const lt=ie(q.props,{ref:x,key:q.value,active:V.value&&ae===0?!0:void 0,onClick:()=>G(q,null)});return((at=l.item)==null?void 0:at.call(l,{item:q,index:ae,props:lt}))??d(Be,ie(lt,{role:"option"}),{prepend:be=>{let{isSelected:Ee}=be;return d(ve,null,[e.multiple&&!e.hideSelected?d(wn,{key:q.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,q.props.prependAvatar&&d(yn,{image:q.props.prependAvatar},null),q.props.prependIcon&&d(ct,{icon:q.props.prependIcon},null)])},title:()=>{var be,Ee;return i.value?q.title:On(q.title,(be=p(q))==null?void 0:be.title,((Ee=m.value)==null?void 0:Ee.length)??0)}})}}),(O=l["append-item"])==null?void 0:O.call(l)]}})]}),A.value.map((k,D)=>{function O(x){x.stopPropagation(),x.preventDefault(),G(k,!1)}const U={"onClick:close":O,onKeydown(x){x.key!=="Enter"&&x.key!==" "||(x.preventDefault(),x.stopPropagation(),O(x))},onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},q=C.value?!!l.chip:!!l.selection,ae=q?Cn(C.value?l.chip({item:k,index:D,props:U}):l.selection({item:k,index:D})):void 0;if(!(q&&!ae))return d("div",{key:k.value,class:["v-autocomplete__selection",D===s.value&&["v-autocomplete__selection--selected",M.value]],style:D===s.value?N.value:{}},[C.value?l.chip?d(En,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:k.title}}},{default:()=>[ae]}):d(bn,ie({key:"chip",closable:e.closableChips,size:"small",text:k.title,disabled:k.props.disabled},U),null):ae??d("span",{class:"v-autocomplete__selection-text"},[k.title,e.multiple&&D<A.value.length-1&&d("span",{class:"v-autocomplete__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var U;for(var k=arguments.length,D=new Array(k),O=0;O<k;O++)D[O]=arguments[O];return d(ve,null,[(U=l["append-inner"])==null?void 0:U.call(l,...D),e.menuIcon?d(ct,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:de,onClick:vn,"aria-label":r(I.value),title:r(I.value),tabindex:"-1"},null):void 0])}})}),sn({isFocused:n,isPristine:i,menu:f,search:m,filteredItems:S,select:G},t)}}),ft=rt({__name:"Form",props:{id:{},levelOptions:{}},emits:["success"],setup(e,{emit:o}){const l=o,r=e,t=$(null),n=$(!1),i=$(!1),u=zn,a=$(Object.assign({},qn())),g=async()=>{r.id&&(n.value=!0,a.value=await Dn(r.id),n.value=!1)},v=async()=>{const{valid:f}=await t.value.validate();if(!f)return;n.value=!0;const s=await Fn(a.value);if(!s){n.value=!1;return}console.log(s),l("success"),i.value=!1,n.value=!1};return ce(()=>i.value,f=>{f&&g()}),(f,s)=>(Re(),nt(Kt,{"max-width":"800",modelValue:i.value,"onUpdate:modelValue":s[12]||(s[12]=c=>i.value=c),activator:"parent"},{default:P(()=>[d(_n,{ref_key:"formRef",ref:t,onSubmit:Sn(v,["prevent"])},{default:P(()=>[d(Ae,{title:f.id?"Editar Registro":"Nuevo Registro"},{default:P(()=>[d(Ht,{class:"border-t border-b"},{default:P(()=>[d(jt,null,{default:P(()=>[d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.documentNumber,"onUpdate:modelValue":s[0]||(s[0]=c=>a.value.documentNumber=c),label:"NÃºmero de documento",rules:z(u).documentNumber},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.name,"onUpdate:modelValue":s[1]||(s[1]=c=>a.value.name=c),label:"Nombres",rules:z(u).name},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.paternalSurname,"onUpdate:modelValue":s[2]||(s[2]=c=>a.value.paternalSurname=c),label:"Apellidos",rules:z(u).paternalSurname},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.maternalSurname,"onUpdate:modelValue":s[3]||(s[3]=c=>a.value.maternalSurname=c),label:"Apellidos",rules:z(u).maternalSurname},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.birthdate,"onUpdate:modelValue":s[4]||(s[4]=c=>a.value.birthdate=c),label:"Fecha de nacimiento",type:"date",rules:z(u).birthdate},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Bn,{modelValue:a.value.gender,"onUpdate:modelValue":s[5]||(s[5]=c=>a.value.gender=c),items:["MASCULINO","FEMENINO"],label:"GÃ©nero",rules:z(u).gender},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.email,"onUpdate:modelValue":s[6]||(s[6]=c=>a.value.email=c),label:"Correo electrÃ³nico",rules:z(u).email},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"6"},{default:P(()=>[d(Y,{modelValue:a.value.phone,"onUpdate:modelValue":s[7]||(s[7]=c=>a.value.phone=c),label:"TelÃ©fono",rules:z(u).phone},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"12"},{default:P(()=>[d(Y,{modelValue:a.value.address,"onUpdate:modelValue":s[8]||(s[8]=c=>a.value.address=c),label:"DirecciÃ³n",rules:z(u).address},null,8,["modelValue","rules"])]),_:1}),d(K,{cols:"12"},{default:P(()=>[d(Kn,{modelValue:a.value.levelId,"onUpdate:modelValue":s[9]||(s[9]=c=>a.value.levelId=c),items:f.levelOptions,label:"Nivel acadÃ©mico",rules:z(u).gender,"return-object":!1},null,8,["modelValue","items","rules"])]),_:1}),d(K,{cols:"12",class:"d-flex justify-end"},{default:P(()=>[d(kn,{modelValue:a.value.isActive,"onUpdate:modelValue":s[10]||(s[10]=c=>a.value.isActive=c),inset:"",density:"compact",color:"indigo",label:"Activo"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(An,null,{default:P(()=>[d(ne,{type:"button",variant:"tonal",color:"secondary",onClick:s[11]||(s[11]=c=>i.value=!1)},{default:P(()=>s[13]||(s[13]=[Ie("Cancelar")])),_:1}),d(ne,{text:"Guardar",color:"primary",type:"submit",variant:"flat",loading:n.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:1},512)]),_:1},8,["modelValue"]))}}),Hn=()=>[{title:"Opciones",value:"actions",fixed:!0,width:"70px",align:"center"},{title:"Nivel",value:"level"},{title:"NÃºmero de documento",value:"documentNumber"},{title:"Nombre",value:"fullName"},{title:"Fecha de nacimiento",value:"birthdate"},{title:"GÃ©nero",value:"gender"},{title:"Email",value:"email"},{title:"TelÃ©fono",value:"phone"},{title:"DirecciÃ³n",value:"address"},{title:"Activo",value:"isActive"}],$n=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const jn=()=>{};function Jn(...e){if(e.length!==1)return Rn(...e);const o=e[0];return typeof o=="function"?In(Nn(()=>({get:o,set:jn}))):$(o)}var ue={},_e,gt;function Gn(){return gt||(gt=1,_e=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),_e}var ke={},te={},ht;function re(){if(ht)return te;ht=1;let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return te.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},te.getSymbolTotalCodewords=function(r){return o[r]},te.getBCHDigit=function(l){let r=0;for(;l!==0;)r++,l>>>=1;return r},te.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},te.isKanjiModeEnabled=function(){return typeof e<"u"},te.toSJIS=function(r){return e(r)},te}var Le={},mt;function ot(){return mt||(mt=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function o(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+l)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,t){if(e.isValid(r))return r;try{return o(r)}catch{return t}}}(Le)),Le}var De,vt;function Yn(){if(vt)return De;vt=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(o){const l=Math.floor(o/8);return(this.buffer[l]>>>7-o%8&1)===1},put:function(o,l){for(let r=0;r<l;r++)this.putBit((o>>>l-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),o&&(this.buffer[l]|=128>>>this.length%8),this.length++}},De=e,De}var Fe,pt;function Qn(){if(pt)return Fe;pt=1;function e(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return e.prototype.set=function(o,l,r,t){const n=o*this.size+l;this.data[n]=r,t&&(this.reservedBit[n]=!0)},e.prototype.get=function(o,l){return this.data[o*this.size+l]},e.prototype.xor=function(o,l,r){this.data[o*this.size+l]^=r},e.prototype.isReserved=function(o,l){return this.reservedBit[o*this.size+l]},Fe=e,Fe}var Ue={},wt;function Wn(){return wt||(wt=1,function(e){const o=re().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const t=Math.floor(r/7)+2,n=o(r),i=n===145?26:Math.ceil((n-13)/(2*t-2))*2,u=[n-7];for(let a=1;a<t-1;a++)u[a]=u[a-1]-i;return u.push(6),u.reverse()},e.getPositions=function(r){const t=[],n=e.getRowColCoords(r),i=n.length;for(let u=0;u<i;u++)for(let a=0;a<i;a++)u===0&&a===0||u===0&&a===i-1||u===i-1&&a===0||t.push([n[u],n[a]]);return t}}(Ue)),Ue}var qe={},yt;function Zn(){if(yt)return qe;yt=1;const e=re().getSymbolSize,o=7;return qe.getPositions=function(r){const t=e(r);return[[0,0],[t-o,0],[0,t-o]]},qe}var ze={},Ct;function Xn(){return Ct||(Ct=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};e.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const n=t.size;let i=0,u=0,a=0,g=null,v=null;for(let f=0;f<n;f++){u=a=0,g=v=null;for(let s=0;s<n;s++){let c=t.get(f,s);c===g?u++:(u>=5&&(i+=o.N1+(u-5)),g=c,u=1),c=t.get(s,f),c===v?a++:(a>=5&&(i+=o.N1+(a-5)),v=c,a=1)}u>=5&&(i+=o.N1+(u-5)),a>=5&&(i+=o.N1+(a-5))}return i},e.getPenaltyN2=function(t){const n=t.size;let i=0;for(let u=0;u<n-1;u++)for(let a=0;a<n-1;a++){const g=t.get(u,a)+t.get(u,a+1)+t.get(u+1,a)+t.get(u+1,a+1);(g===4||g===0)&&i++}return i*o.N2},e.getPenaltyN3=function(t){const n=t.size;let i=0,u=0,a=0;for(let g=0;g<n;g++){u=a=0;for(let v=0;v<n;v++)u=u<<1&2047|t.get(g,v),v>=10&&(u===1488||u===93)&&i++,a=a<<1&2047|t.get(v,g),v>=10&&(a===1488||a===93)&&i++}return i*o.N3},e.getPenaltyN4=function(t){let n=0;const i=t.data.length;for(let a=0;a<i;a++)n+=t.data[a];return Math.abs(Math.ceil(n*100/i/5)-10)*o.N4};function l(r,t,n){switch(r){case e.Patterns.PATTERN000:return(t+n)%2===0;case e.Patterns.PATTERN001:return t%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(t+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return t*n%2+t*n%3===0;case e.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case e.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(t,n){const i=n.size;for(let u=0;u<i;u++)for(let a=0;a<i;a++)n.isReserved(a,u)||n.xor(a,u,l(t,a,u))},e.getBestMask=function(t,n){const i=Object.keys(e.Patterns).length;let u=0,a=1/0;for(let g=0;g<i;g++){n(g),e.applyMask(g,t);const v=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(g,t),v<a&&(a=v,u=g)}return u}}(ze)),ze}var Se={},bt;function Jt(){if(bt)return Se;bt=1;const e=ot(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Se.getBlocksCount=function(t,n){switch(n){case e.L:return o[(t-1)*4+0];case e.M:return o[(t-1)*4+1];case e.Q:return o[(t-1)*4+2];case e.H:return o[(t-1)*4+3];default:return}},Se.getTotalCodewordsCount=function(t,n){switch(n){case e.L:return l[(t-1)*4+0];case e.M:return l[(t-1)*4+1];case e.Q:return l[(t-1)*4+2];case e.H:return l[(t-1)*4+3];default:return}},Se}var Oe={},he={},Et;function er(){if(Et)return he;Et=1;const e=new Uint8Array(512),o=new Uint8Array(256);return function(){let r=1;for(let t=0;t<255;t++)e[t]=r,o[r]=t,r<<=1,r&256&&(r^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),he.log=function(r){if(r<1)throw new Error("log("+r+")");return o[r]},he.exp=function(r){return e[r]},he.mul=function(r,t){return r===0||t===0?0:e[o[r]+o[t]]},he}var St;function tr(){return St||(St=1,function(e){const o=er();e.mul=function(r,t){const n=new Uint8Array(r.length+t.length-1);for(let i=0;i<r.length;i++)for(let u=0;u<t.length;u++)n[i+u]^=o.mul(r[i],t[u]);return n},e.mod=function(r,t){let n=new Uint8Array(r);for(;n.length-t.length>=0;){const i=n[0];for(let a=0;a<t.length;a++)n[a]^=o.mul(t[a],i);let u=0;for(;u<n.length&&n[u]===0;)u++;n=n.slice(u)}return n},e.generateECPolynomial=function(r){let t=new Uint8Array([1]);for(let n=0;n<r;n++)t=e.mul(t,new Uint8Array([1,o.exp(n)]));return t}}(Oe)),Oe}var xe,Bt;function nr(){if(Bt)return xe;Bt=1;const e=tr();function o(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},o.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(r.length+this.degree);t.set(r);const n=e.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const u=new Uint8Array(this.degree);return u.set(n,i),u}return n},xe=o,xe}var Ke={},He={},$e={},At;function Gt(){return At||(At=1,$e.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),$e}var Z={},Rt;function Yt(){if(Rt)return Z;Rt=1;const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;Z.KANJI=new RegExp(l,"g"),Z.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Z.BYTE=new RegExp(r,"g"),Z.NUMERIC=new RegExp(e,"g"),Z.ALPHANUMERIC=new RegExp(o,"g");const t=new RegExp("^"+l+"$"),n=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Z.testKanji=function(a){return t.test(a)},Z.testNumeric=function(a){return n.test(a)},Z.testAlphanumeric=function(a){return i.test(a)},Z}var It;function oe(){return It||(It=1,function(e){const o=Gt(),l=Yt();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(n,i){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!o.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?n.ccBits[0]:i<27?n.ccBits[1]:n.ccBits[2]},e.getBestModeForData=function(n){return l.testNumeric(n)?e.NUMERIC:l.testAlphanumeric(n)?e.ALPHANUMERIC:l.testKanji(n)?e.KANJI:e.BYTE},e.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},e.isValid=function(n){return n&&n.bit&&n.ccBits};function r(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}e.from=function(n,i){if(e.isValid(n))return n;try{return r(n)}catch{return i}}}(He)),He}var Nt;function rr(){return Nt||(Nt=1,function(e){const o=re(),l=Jt(),r=ot(),t=oe(),n=Gt(),i=7973,u=o.getBCHDigit(i);function a(s,c,I){for(let T=1;T<=40;T++)if(c<=e.getCapacity(T,I,s))return T}function g(s,c){return t.getCharCountIndicator(s,c)+4}function v(s,c){let I=0;return s.forEach(function(T){const L=g(T.mode,c);I+=L+T.getBitsLength()}),I}function f(s,c){for(let I=1;I<=40;I++)if(v(s,I)<=e.getCapacity(I,c,t.MIXED))return I}e.from=function(c,I){return n.isValid(c)?parseInt(c,10):I},e.getCapacity=function(c,I,T){if(!n.isValid(c))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=t.BYTE);const L=o.getSymbolTotalCodewords(c),R=l.getTotalCodewordsCount(c,I),M=(L-R)*8;if(T===t.MIXED)return M;const N=M-g(T,c);switch(T){case t.NUMERIC:return Math.floor(N/10*3);case t.ALPHANUMERIC:return Math.floor(N/11*2);case t.KANJI:return Math.floor(N/13);case t.BYTE:default:return Math.floor(N/8)}},e.getBestVersionForData=function(c,I){let T;const L=r.from(I,r.M);if(Array.isArray(c)){if(c.length>1)return f(c,L);if(c.length===0)return 1;T=c[0]}else T=c;return a(T.mode,T.getLength(),L)},e.getEncodedBits=function(c){if(!n.isValid(c)||c<7)throw new Error("Invalid QR Code version");let I=c<<12;for(;o.getBCHDigit(I)-u>=0;)I^=i<<o.getBCHDigit(I)-u;return c<<12|I}}(Ke)),Ke}var je={},Vt;function or(){if(Vt)return je;Vt=1;const e=re(),o=1335,l=21522,r=e.getBCHDigit(o);return je.getEncodedBits=function(n,i){const u=n.bit<<3|i;let a=u<<10;for(;e.getBCHDigit(a)-r>=0;)a^=o<<e.getBCHDigit(a)-r;return(u<<10|a)^l},je}var Je={},Ge,Tt;function lr(){if(Tt)return Ge;Tt=1;const e=oe();function o(l){this.mode=e.NUMERIC,this.data=l.toString()}return o.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),r.put(i,10);const u=this.data.length-t;u>0&&(n=this.data.substr(t),i=parseInt(n,10),r.put(i,u*3+1))},Ge=o,Ge}var Ye,Pt;function ar(){if(Pt)return Ye;Pt=1;const e=oe(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(r){this.mode=e.ALPHANUMERIC,this.data=r}return l.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let i=o.indexOf(this.data[n])*45;i+=o.indexOf(this.data[n+1]),t.put(i,11)}this.data.length%2&&t.put(o.indexOf(this.data[n]),6)},Ye=l,Ye}var Qe,Mt;function ir(){if(Mt)return Qe;Mt=1;const e=oe();function o(l){this.mode=e.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return o.getBitsLength=function(r){return r*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){for(let r=0,t=this.data.length;r<t;r++)l.put(this.data[r],8)},Qe=o,Qe}var We,_t;function ur(){if(_t)return We;_t=1;const e=oe(),o=re();function l(r){this.mode=e.KANJI,this.data=r}return l.getBitsLength=function(t){return t*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),r.put(n,13)}},We=l,We}var Ze={exports:{}},kt;function sr(){return kt||(kt=1,function(e){var o={single_source_shortest_paths:function(l,r,t){var n={},i={};i[r]=0;var u=o.PriorityQueue.make();u.push(r,0);for(var a,g,v,f,s,c,I,T,L;!u.empty();){a=u.pop(),g=a.value,f=a.cost,s=l[g]||{};for(v in s)s.hasOwnProperty(v)&&(c=s[v],I=f+c,T=i[v],L=typeof i[v]>"u",(L||T>I)&&(i[v]=I,u.push(v,I),n[v]=g))}if(typeof t<"u"&&typeof i[t]>"u"){var R=["Could not find a path from ",r," to ",t,"."].join("");throw new Error(R)}return n},extract_shortest_path_from_predecessor_list:function(l,r){for(var t=[],n=r;n;)t.push(n),l[n],n=l[n];return t.reverse(),t},find_path:function(l,r,t){var n=o.single_source_shortest_paths(l,r,t);return o.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(l){var r=o.PriorityQueue,t={},n;l=l||{};for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);return t.queue=[],t.sorter=l.sorter||r.default_sorter,t},default_sorter:function(l,r){return l.cost-r.cost},push:function(l,r){var t={value:l,cost:r};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=o}(Ze)),Ze.exports}var Lt;function cr(){return Lt||(Lt=1,function(e){const o=oe(),l=lr(),r=ar(),t=ir(),n=ur(),i=Yt(),u=re(),a=sr();function g(R){return unescape(encodeURIComponent(R)).length}function v(R,M,N){const m=[];let A;for(;(A=R.exec(N))!==null;)m.push({data:A[0],index:A.index,mode:M,length:A[0].length});return m}function f(R){const M=v(i.NUMERIC,o.NUMERIC,R),N=v(i.ALPHANUMERIC,o.ALPHANUMERIC,R);let m,A;return u.isKanjiModeEnabled()?(m=v(i.BYTE,o.BYTE,R),A=v(i.KANJI,o.KANJI,R)):(m=v(i.BYTE_KANJI,o.BYTE,R),A=[]),M.concat(N,m,A).sort(function(E,S){return E.index-S.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function s(R,M){switch(M){case o.NUMERIC:return l.getBitsLength(R);case o.ALPHANUMERIC:return r.getBitsLength(R);case o.KANJI:return n.getBitsLength(R);case o.BYTE:return t.getBitsLength(R)}}function c(R){return R.reduce(function(M,N){const m=M.length-1>=0?M[M.length-1]:null;return m&&m.mode===N.mode?(M[M.length-1].data+=N.data,M):(M.push(N),M)},[])}function I(R){const M=[];for(let N=0;N<R.length;N++){const m=R[N];switch(m.mode){case o.NUMERIC:M.push([m,{data:m.data,mode:o.ALPHANUMERIC,length:m.length},{data:m.data,mode:o.BYTE,length:m.length}]);break;case o.ALPHANUMERIC:M.push([m,{data:m.data,mode:o.BYTE,length:m.length}]);break;case o.KANJI:M.push([m,{data:m.data,mode:o.BYTE,length:g(m.data)}]);break;case o.BYTE:M.push([{data:m.data,mode:o.BYTE,length:g(m.data)}])}}return M}function T(R,M){const N={},m={start:{}};let A=["start"];for(let w=0;w<R.length;w++){const E=R[w],S=[];for(let p=0;p<E.length;p++){const y=E[p],C=""+w+p;S.push(C),N[C]={node:y,lastCount:0},m[C]={};for(let b=0;b<A.length;b++){const B=A[b];N[B]&&N[B].node.mode===y.mode?(m[B][C]=s(N[B].lastCount+y.length,y.mode)-s(N[B].lastCount,y.mode),N[B].lastCount+=y.length):(N[B]&&(N[B].lastCount=y.length),m[B][C]=s(y.length,y.mode)+4+o.getCharCountIndicator(y.mode,M))}}A=S}for(let w=0;w<A.length;w++)m[A[w]].end=0;return{map:m,table:N}}function L(R,M){let N;const m=o.getBestModeForData(R);if(N=o.from(M,m),N!==o.BYTE&&N.bit<m.bit)throw new Error('"'+R+'" cannot be encoded with mode '+o.toString(N)+`.
 Suggested mode is: `+o.toString(m));switch(N===o.KANJI&&!u.isKanjiModeEnabled()&&(N=o.BYTE),N){case o.NUMERIC:return new l(R);case o.ALPHANUMERIC:return new r(R);case o.KANJI:return new n(R);case o.BYTE:return new t(R)}}e.fromArray=function(M){return M.reduce(function(N,m){return typeof m=="string"?N.push(L(m,null)):m.data&&N.push(L(m.data,m.mode)),N},[])},e.fromString=function(M,N){const m=f(M,u.isKanjiModeEnabled()),A=I(m),w=T(A,N),E=a.find_path(w.map,"start","end"),S=[];for(let p=1;p<E.length-1;p++)S.push(w.table[E[p]].node);return e.fromArray(c(S))},e.rawSplit=function(M){return e.fromArray(f(M,u.isKanjiModeEnabled()))}}(Je)),Je}var Dt;function dr(){if(Dt)return ke;Dt=1;const e=re(),o=ot(),l=Yn(),r=Qn(),t=Wn(),n=Zn(),i=Xn(),u=Jt(),a=nr(),g=rr(),v=or(),f=oe(),s=cr();function c(w,E){const S=w.size,p=n.getPositions(E);for(let y=0;y<p.length;y++){const C=p[y][0],b=p[y][1];for(let B=-1;B<=7;B++)if(!(C+B<=-1||S<=C+B))for(let V=-1;V<=7;V++)b+V<=-1||S<=b+V||(B>=0&&B<=6&&(V===0||V===6)||V>=0&&V<=6&&(B===0||B===6)||B>=2&&B<=4&&V>=2&&V<=4?w.set(C+B,b+V,!0,!0):w.set(C+B,b+V,!1,!0))}}function I(w){const E=w.size;for(let S=8;S<E-8;S++){const p=S%2===0;w.set(S,6,p,!0),w.set(6,S,p,!0)}}function T(w,E){const S=t.getPositions(E);for(let p=0;p<S.length;p++){const y=S[p][0],C=S[p][1];for(let b=-2;b<=2;b++)for(let B=-2;B<=2;B++)b===-2||b===2||B===-2||B===2||b===0&&B===0?w.set(y+b,C+B,!0,!0):w.set(y+b,C+B,!1,!0)}}function L(w,E){const S=w.size,p=g.getEncodedBits(E);let y,C,b;for(let B=0;B<18;B++)y=Math.floor(B/3),C=B%3+S-8-3,b=(p>>B&1)===1,w.set(y,C,b,!0),w.set(C,y,b,!0)}function R(w,E,S){const p=w.size,y=v.getEncodedBits(E,S);let C,b;for(C=0;C<15;C++)b=(y>>C&1)===1,C<6?w.set(C,8,b,!0):C<8?w.set(C+1,8,b,!0):w.set(p-15+C,8,b,!0),C<8?w.set(8,p-C-1,b,!0):C<9?w.set(8,15-C-1+1,b,!0):w.set(8,15-C-1,b,!0);w.set(p-8,8,1,!0)}function M(w,E){const S=w.size;let p=-1,y=S-1,C=7,b=0;for(let B=S-1;B>0;B-=2)for(B===6&&B--;;){for(let V=0;V<2;V++)if(!w.isReserved(y,B-V)){let H=!1;b<E.length&&(H=(E[b]>>>C&1)===1),w.set(y,B-V,H),C--,C===-1&&(b++,C=7)}if(y+=p,y<0||S<=y){y-=p,p=-p;break}}}function N(w,E,S){const p=new l;S.forEach(function(V){p.put(V.mode.bit,4),p.put(V.getLength(),f.getCharCountIndicator(V.mode,w)),V.write(p)});const y=e.getSymbolTotalCodewords(w),C=u.getTotalCodewordsCount(w,E),b=(y-C)*8;for(p.getLengthInBits()+4<=b&&p.put(0,4);p.getLengthInBits()%8!==0;)p.putBit(0);const B=(b-p.getLengthInBits())/8;for(let V=0;V<B;V++)p.put(V%2?17:236,8);return m(p,w,E)}function m(w,E,S){const p=e.getSymbolTotalCodewords(E),y=u.getTotalCodewordsCount(E,S),C=p-y,b=u.getBlocksCount(E,S),B=p%b,V=b-B,H=Math.floor(p/b),X=Math.floor(C/b),Ve=X+1,we=H-X,Te=new a(we);let de=0;const le=new Array(b),ye=new Array(b);let fe=0;const Pe=new Uint8Array(w.buffer);for(let Q=0;Q<b;Q++){const G=Q<V?X:Ve;le[Q]=Pe.slice(de,de+G),ye[Q]=Te.encode(le[Q]),de+=G,fe=Math.max(fe,G)}const ge=new Uint8Array(p);let Ce=0,j,J;for(j=0;j<fe;j++)for(J=0;J<b;J++)j<le[J].length&&(ge[Ce++]=le[J][j]);for(j=0;j<we;j++)for(J=0;J<b;J++)ge[Ce++]=ye[J][j];return ge}function A(w,E,S,p){let y;if(Array.isArray(w))y=s.fromArray(w);else if(typeof w=="string"){let H=E;if(!H){const X=s.rawSplit(w);H=g.getBestVersionForData(X,S)}y=s.fromString(w,H||40)}else throw new Error("Invalid data");const C=g.getBestVersionForData(y,S);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=C;else if(E<C)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+C+`.
`);const b=N(E,S,y),B=e.getSymbolSize(E),V=new r(B);return c(V,E),I(V),T(V,E),R(V,S,0),E>=7&&L(V,E),M(V,b),isNaN(p)&&(p=i.getBestMask(V,R.bind(null,V,S))),i.applyMask(p,V),R(V,S,p),{modules:V,version:E,errorCorrectionLevel:S,maskPattern:p,segments:y}}return ke.create=function(E,S){if(typeof E>"u"||E==="")throw new Error("No input text");let p=o.M,y,C;return typeof S<"u"&&(p=o.from(S.errorCorrectionLevel,o.M),y=g.from(S.version),C=i.from(S.maskPattern),S.toSJISFunc&&e.setToSJISFunction(S.toSJISFunc)),A(E,y,p,C)},ke}var Xe={},et={},Ft;function Qt(){return Ft||(Ft=1,function(e){function o(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let r=l.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+l);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(n){return[n,n]}))),r.length===6&&r.push("F","F");const t=parseInt(r.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const t=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,n=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:o(r.color.dark||"#000000ff"),light:o(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,t){return t.width&&t.width>=r+t.margin*2?t.width/(r+t.margin*2):t.scale},e.getImageWidth=function(r,t){const n=e.getScale(r,t);return Math.floor((r+t.margin*2)*n)},e.qrToImageData=function(r,t,n){const i=t.modules.size,u=t.modules.data,a=e.getScale(i,n),g=Math.floor((i+n.margin*2)*a),v=n.margin*a,f=[n.color.light,n.color.dark];for(let s=0;s<g;s++)for(let c=0;c<g;c++){let I=(s*g+c)*4,T=n.color.light;if(s>=v&&c>=v&&s<g-v&&c<g-v){const L=Math.floor((s-v)/a),R=Math.floor((c-v)/a);T=f[u[L*i+R]?1:0]}r[I++]=T.r,r[I++]=T.g,r[I++]=T.b,r[I]=T.a}}}(et)),et}var Ut;function fr(){return Ut||(Ut=1,function(e){const o=Qt();function l(t,n,i){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=i,n.width=i,n.style.height=i+"px",n.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(n,i,u){let a=u,g=i;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),i||(g=r()),a=o.getOptions(a);const v=o.getImageWidth(n.modules.size,a),f=g.getContext("2d"),s=f.createImageData(v,v);return o.qrToImageData(s.data,n,a),l(f,g,v),f.putImageData(s,0,0),g},e.renderToDataURL=function(n,i,u){let a=u;typeof a>"u"&&(!i||!i.getContext)&&(a=i,i=void 0),a||(a={});const g=e.render(n,i,a),v=a.type||"image/png",f=a.rendererOpts||{};return g.toDataURL(v,f.quality)}}(Xe)),Xe}var tt={},qt;function gr(){if(qt)return tt;qt=1;const e=Qt();function o(t,n){const i=t.a/255,u=n+'="'+t.hex+'"';return i<1?u+" "+n+'-opacity="'+i.toFixed(2).slice(1)+'"':u}function l(t,n,i){let u=t+n;return typeof i<"u"&&(u+=" "+i),u}function r(t,n,i){let u="",a=0,g=!1,v=0;for(let f=0;f<t.length;f++){const s=Math.floor(f%n),c=Math.floor(f/n);!s&&!g&&(g=!0),t[f]?(v++,f>0&&s>0&&t[f-1]||(u+=g?l("M",s+i,.5+c+i):l("m",a,0),a=0,g=!1),s+1<n&&t[f+1]||(u+=l("h",v),v=0)):a++}return u}return tt.render=function(n,i,u){const a=e.getOptions(i),g=n.modules.size,v=n.modules.data,f=g+a.margin*2,s=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",c="<path "+o(a.color.dark,"stroke")+' d="'+r(v,g,a.margin)+'"/>',I='viewBox="0 0 '+f+" "+f+'"',L='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+I+' shape-rendering="crispEdges">'+s+c+`</svg>
`;return typeof u=="function"&&u(null,L),L},tt}var zt;function hr(){if(zt)return ue;zt=1;const e=Gn(),o=dr(),l=fr(),r=gr();function t(n,i,u,a,g){const v=[].slice.call(arguments,1),f=v.length,s=typeof v[f-1]=="function";if(!s&&!e())throw new Error("Callback required as last argument");if(s){if(f<2)throw new Error("Too few arguments provided");f===2?(g=u,u=i,i=a=void 0):f===3&&(i.getContext&&typeof g>"u"?(g=a,a=void 0):(g=a,a=u,u=i,i=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(u=i,i=a=void 0):f===2&&!i.getContext&&(a=u,u=i,i=void 0),new Promise(function(c,I){try{const T=o.create(u,a);c(n(T,i,a))}catch(T){I(T)}})}try{const c=o.create(u,a);g(null,n(c,i,a))}catch(c){g(c)}}return ue.create=o.create,ue.toCanvas=t.bind(null,l.render),ue.toDataURL=t.bind(null,l.renderToDataURL),ue.toString=t.bind(null,function(n,i,u){return r.render(n,u)}),ue}var mr=hr();const vr=Mn(mr);function pr(e,o){const l=Jn(e),r=se("");return ce(l,async t=>{l.value&&$n&&(r.value=await vr.toDataURL(t,o))},{immediate:!0}),r}const wr="levels",yr=async()=>{try{return(await pe().get(`${wr}/selectable`)).data.data}catch{return[]}},Cr={class:"d-flex justify-space-between"},br=["src"],Er=rt({__name:"DataTable",setup(e){const o=$(!1),l=$("1"),r=$([]),t=pr(()=>l.value.toString()),n=async()=>{r.value=await yr()};return $t(()=>{n()}),(i,u)=>{const a=me("LnxIcon"),g=me("LnxDialogConfirm"),v=me("LnxStatusChip"),f=me("LnxDataTable");return Re(),nt(Ae,null,{default:P(()=>[d(f,{headers:z(Hn)(),loadDataTable:z(Ln)},{header:P(({request:s,loading:c,initDataTable:I,loadingTable:T,debouncedReload:L,reLoadDataTable:R})=>[d(Ht,{class:"border-t border-b"},{default:P(()=>[d(jt,{class:"d-flex justify-space-between align-center"},{default:P(()=>[d(K,{cols:"12",md:"4"},{default:P(()=>[d(Y,{modelValue:s.search,"onUpdate:modelValue":M=>s.search=M,label:"Buscar",clearable:"",onInput:L,"onClick:clear":R},null,8,["modelValue","onUpdate:modelValue","onInput","onClick:clear"])]),_:2},1024),d(K,{cols:"12",md:"4",class:"text-end"},{default:P(()=>[d(ne,{class:"me-2",disabled:c},{default:P(()=>[u[1]||(u[1]=Ie(" Nuevo ")),d(ft,{id:null,onSuccess:I,levelOptions:r.value},null,8,["onSuccess","levelOptions"])]),_:2},1032,["disabled"]),Vn((Re(),nt(ne,{icon:"",variant:"tonal",density:"comfortable",onClick:I,loading:T},{default:P(()=>[d(a,{iconName:"refresh"})]),_:2},1032,["onClick","loading"])),[[Tn,"Recargar registros"]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),"item.actions":P(({item:s,loadDataTable:c})=>[dt("div",Cr,[d(ne,{icon:"",size:"small",variant:"text"},{default:P(()=>[d(a,{iconName:"setting-5"}),d(Ot,{activator:"parent"},{default:P(()=>[d(xt,{nav:""},{default:P(()=>[d(Be,{title:"Editar",density:"compact",value:"edit"},{prepend:P(()=>[d(a,{iconName:"message-edit"})]),default:P(()=>[d(ft,{id:s.id,levelOptions:r.value,onSuccess:c},null,8,["id","levelOptions","onSuccess"])]),_:2},1024),d(Be,{title:"Eliminar",class:"text-red",density:"compact",value:"delete"},{prepend:P(()=>[d(a,{iconName:"trash"})]),default:P(()=>[d(g,{title:"Eliminar registro",message:"Â¿EstÃ¡ seguro de eliminar este registro?",onOnConfirm:async()=>{await z(Un)(s.id),c()}},null,8,["onOnConfirm"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(ne,{class:"ms-2",icon:"",size:"small",variant:"tonal",onClick:()=>{l.value=s.token,o.value=!0}},{default:P(()=>[d(a,{iconName:"scan-barcode"})]),_:2},1032,["onClick"])])]),"item.isActive":P(({item:s})=>[d(v,{value:s.isActive},null,8,["value"])]),_:1},8,["headers","loadDataTable"]),d(Kt,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=s=>o.value=s),width:"400"},{default:P(()=>[d(Ae,{"max-width":"400",title:"Codigo QR"},{default:P(()=>[dt("img",{src:z(t),alt:"QR Code"},null,8,br)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),Nr=rt({__name:"StudentView",setup(e){const o=async()=>{};return $t(()=>{o()}),(l,r)=>{const t=me("LnxIcon");return Re(),Pn(ve,null,[d(Ae,{title:"Students",subtitle:"GestiÃ³n de students",class:"rounded-0"},{append:P(()=>[d(ne,{variant:"text",onClick:r[0]||(r[0]=n=>l.$router.go(-1))},{prepend:P(()=>[d(t,{iconName:"arrow-left-3",size:"large"})]),default:P(()=>[r[1]||(r[1]=Ie(" AtrÃ¡s "))]),_:1})]),_:1}),d(Er)],64)}}});export{Nr as default};
