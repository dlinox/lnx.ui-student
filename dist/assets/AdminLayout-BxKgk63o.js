import{q as F,b as N,H as P,s as v,ad as _e,I as H,ae as U,af as Z,p as j,Q as ye,ag as D,ah as G,S as we,a2 as A,t as J,a as s,v as X,C as be,a1 as q,ai as pe,aj as Se,ak as Ve,al as Ne,Z as ke,L as Ce,M as Te,am as Be,an as Ee,N as Pe,ao as xe,ap as Re,aq as Le,D as De,ar as Ae,as as Ye,a3 as ze,at as Oe,Y as We,a4 as Fe,au as Ue,av as $e,aw as Xe,ax as qe,F as Ze,ay as je,az as Ge,d as Je,aA as Qe,c as ue,w as C,V as Ke,e as et,f as Y,aB as tt,aC as O,aD as W,aE as re,aF as se,j as $,J as at,h as ie,a9 as ce,r as lt,aG as ve,i as de,o as me,aH as ot}from"./index-CGaUJQDw.js";import{u as nt}from"./period.stores-DmWdOeeS.js";import{u as Q,m as K,V as ut,a as rt}from"./VMain-CjRcUvxz.js";import{V as fe,m as st}from"./VToolbar-gCrkHgG5.js";const it=F({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ct(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:u}=g;let w=0,t=0;const a=N(null),l=P(0),i=P(0),S=P(0),n=P(!1),r=P(!1),o=v(()=>Number(e.scrollThreshold)),d=v(()=>_e((o.value-l.value)/o.value||0)),m=()=>{const c=a.value;if(!c||u&&!u.value)return;w=l.value,l.value="window"in c?c.pageYOffset:c.scrollTop;const V=c instanceof Window?document.documentElement.scrollHeight:c.scrollHeight;if(t!==V){t=V;return}r.value=l.value<w,S.value=Math.abs(l.value-o.value)};return H(r,()=>{i.value=i.value||l.value}),H(n,()=>{i.value=0}),U(()=>{H(()=>e.scrollTarget,c=>{var x;const V=c?document.querySelector(c):window;V&&V!==a.value&&((x=a.value)==null||x.removeEventListener("scroll",m),a.value=V,a.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),Z(()=>{var c;(c=a.value)==null||c.removeEventListener("scroll",m)}),u&&H(u,m,{immediate:!0}),{scrollThreshold:o,currentScroll:l,currentThreshold:S,isScrollActive:n,scrollRatio:d,isScrollingUp:r,savedScroll:i}}const vt=F({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...st(),...K(),...it(),height:{type:[Number,String],default:64}},"VAppBar"),dt=j()({name:"VAppBar",props:vt(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:u}=g;const w=N(),t=ye(e,"modelValue"),a=v(()=>{var E;const y=new Set(((E=e.scrollBehavior)==null?void 0:E.split(" "))??[]);return{hide:y.has("hide"),fullyHide:y.has("fully-hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),l=v(()=>{const y=a.value;return y.hide||y.fullyHide||y.inverted||y.collapse||y.elevate||y.fadeImage||!t.value}),{currentScroll:i,scrollThreshold:S,isScrollingUp:n,scrollRatio:r}=ct(e,{canScroll:l}),o=v(()=>a.value.hide||a.value.fullyHide),d=v(()=>e.collapse||a.value.collapse&&(a.value.inverted?r.value>0:r.value===0)),m=v(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?i.value>0:i.value===0)),c=v(()=>a.value.fadeImage?a.value.inverted?1-r.value:r.value:void 0),V=v(()=>{var _,M;if(a.value.hide&&a.value.inverted)return 0;const y=((_=w.value)==null?void 0:_.contentHeight)??0,E=((M=w.value)==null?void 0:M.extensionHeight)??0;return o.value?i.value<S.value||a.value.fullyHide?y+E:y:y+E});D(v(()=>!!e.scrollBehavior),()=>{G(()=>{o.value?a.value.inverted?t.value=i.value>S.value:t.value=n.value||i.value<S.value:t.value=!0})});const{ssrBootStyles:x}=we(),{layoutItemStyles:I}=Q({id:e.name,order:v(()=>parseInt(e.order,10)),position:A(e,"location"),layoutSize:V,elementSize:P(void 0),active:t,absolute:A(e,"absolute")});return J(()=>{const y=fe.filterProps(e);return s(fe,X({ref:w,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...I.value,"--v-toolbar-image-opacity":c.value,height:void 0,...x.value},e.style]},y,{collapse:d.value,flat:m.value}),u)}),{}}}),mt=F({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...xe(),...Pe(),...Ee(),...K(),...Be(),...Te({tag:"footer"}),...Ce()},"VFooter"),ft=j()({name:"VFooter",props:mt(),setup(e,g){let{slots:u}=g;const w=N(),{themeClasses:t}=be(e),{backgroundColorClasses:a,backgroundColorStyles:l}=q(A(e,"color")),{borderClasses:i}=pe(e),{elevationClasses:S}=Se(e),{roundedClasses:n}=Ve(e),r=P(32),{resizeRef:o}=Ne(m=>{m.length&&(r.value=m[0].target.clientHeight)}),d=v(()=>e.height==="auto"?r.value:parseInt(e.height,10));return D(()=>e.app,()=>{const m=Q({id:e.name,order:v(()=>parseInt(e.order,10)),position:v(()=>"bottom"),layoutSize:d,elementSize:v(()=>e.height==="auto"?void 0:d.value),active:v(()=>e.app),absolute:A(e,"absolute")});G(()=>{w.value=m.layoutItemStyles.value})}),J(()=>s(e.tag,{ref:o,class:["v-footer",t.value,a.value,i.value,S.value,n.value,e.class],style:[l.value,e.app?w.value:{height:ke(e.height)},e.style]},u)),{}}});function gt(e){let{rootEl:g,isSticky:u,layoutItemStyles:w}=e;const t=P(!1),a=P(0),l=v(()=>{const n=typeof t.value=="boolean"?"top":t.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[n]:ke(a.value)}:{top:w.value.top}]});U(()=>{H(u,n=>{n?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),Z(()=>{window.removeEventListener("scroll",S)});let i=0;function S(){const n=i>window.scrollY?"up":"down",r=g.value.getBoundingClientRect(),o=parseFloat(w.value.top??0),d=window.scrollY-Math.max(0,a.value-o),m=r.height+Math.max(a.value,o)-window.scrollY-window.innerHeight,c=parseFloat(getComputedStyle(g.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-o?(t.value="top",a.value=o):n==="up"&&t.value==="bottom"||n==="down"&&t.value==="top"?(a.value=window.scrollY+r.top-c,t.value=!0):n==="down"&&m<=0?(a.value=0,t.value="bottom"):n==="up"&&d<=0&&(c?t.value!=="top"&&(a.value=-d+c+o,t.value="top"):(a.value=r.top+d,t.value="top")),i=window.scrollY}return{isStuck:t,stickyStyles:l}}const ht=100,yt=20;function ge(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function he(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let g=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const w=ge(g),t=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);g+=(t-w)*Math.abs(t),u===e.length-1&&(g*=.5)}return ge(g)*1e3}function wt(){const e={};function g(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Re(yt))).push([t.timeStamp,a])})}function u(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function w(t){var n;const a=(n=e[t])==null?void 0:n.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const l=a[0],i=[],S=[];for(const r of a){if(l[0]-r[0]>ht)break;i.push({t:r[0],d:r[1].clientX}),S.push({t:r[0],d:r[1].clientY})}return{x:he(i),y:he(S),get direction(){const{x:r,y:o}=this,[d,m]=[Math.abs(r),Math.abs(o)];return d>m&&r>=0?"right":d>m&&r<=0?"left":m>d&&o>=0?"down":m>d&&o<=0?"up":bt()}}}return{addMovement:g,endTouch:u,getVelocity:w}}function bt(){throw new Error}function pt(e){let{el:g,isActive:u,isTemporary:w,width:t,touchless:a,position:l}=e;U(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),Z(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",_)});const i=v(()=>["left","right"].includes(l.value)),{addMovement:S,endTouch:n,getVelocity:r}=wt();let o=!1;const d=P(!1),m=P(0),c=P(0);let V;function x(f,h){return(l.value==="left"?f:l.value==="right"?document.documentElement.clientWidth-f:l.value==="top"?f:l.value==="bottom"?document.documentElement.clientHeight-f:L())-(h?t.value:0)}function I(f){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=l.value==="left"?(f-c.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-f-c.value)/t.value:l.value==="top"?(f-c.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-f-c.value)/t.value:L();return h?Math.max(0,Math.min(1,b)):b}function y(f){if(a.value)return;const h=f.changedTouches[0].clientX,b=f.changedTouches[0].clientY,p=25,T=l.value==="left"?h<p:l.value==="right"?h>document.documentElement.clientWidth-p:l.value==="top"?b<p:l.value==="bottom"?b>document.documentElement.clientHeight-p:L(),k=u.value&&(l.value==="left"?h<t.value:l.value==="right"?h>document.documentElement.clientWidth-t.value:l.value==="top"?b<t.value:l.value==="bottom"?b>document.documentElement.clientHeight-t.value:L());(T||k||u.value&&w.value)&&(V=[h,b],c.value=x(i.value?h:b,u.value),m.value=I(i.value?h:b),o=c.value>-20&&c.value<80,n(f),S(f))}function E(f){const h=f.changedTouches[0].clientX,b=f.changedTouches[0].clientY;if(o){if(!f.cancelable){o=!1;return}const T=Math.abs(h-V[0]),k=Math.abs(b-V[1]);(i.value?T>k&&T>3:k>T&&k>3)?(d.value=!0,o=!1):(i.value?k:T)>3&&(o=!1)}if(!d.value)return;f.preventDefault(),S(f);const p=I(i.value?h:b,!1);m.value=Math.max(0,Math.min(1,p)),p>1?c.value=x(i.value?h:b,!0):p<0&&(c.value=x(i.value?h:b,!1))}function _(f){if(o=!1,!d.value)return;S(f),d.value=!1;const h=r(f.changedTouches[0].identifier),b=Math.abs(h.x),p=Math.abs(h.y);(i.value?b>p&&b>400:p>b&&p>3)?u.value=h.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||L()):u.value=m.value>.5}const M=v(()=>d.value?{transform:l.value==="left"?`translateX(calc(-100% + ${m.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${m.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${m.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${m.value*t.value}px))`:L(),transition:"none"}:void 0);return D(d,()=>{var b,p;const f=((b=g.value)==null?void 0:b.style.transform)??null,h=((p=g.value)==null?void 0:p.style.transition)??null;G(()=>{var T,k,R,z;(k=g.value)==null||k.style.setProperty("transform",((T=M.value)==null?void 0:T.transform)||"none"),(z=g.value)==null||z.style.setProperty("transition",((R=M.value)==null?void 0:R.transition)||null)}),Le(()=>{var T,k;(T=g.value)==null||T.style.setProperty("transform",f),(k=g.value)==null||k.style.setProperty("transition",h)})}),{isDragging:d,dragProgress:m,dragStyles:M}}function L(){throw new Error}const St=["start","end","left","right","top","bottom"],Vt=F({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>St.includes(e)},sticky:Boolean,...xe(),...Pe(),...Ge(),...je({mobile:null}),...Ee(),...K(),...Be(),...Te({tag:"nav"}),...Ce()},"VNavigationDrawer"),kt=j()({name:"VNavigationDrawer",props:Vt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,g){let{attrs:u,emit:w,slots:t}=g;const{isRtl:a}=De(),{themeClasses:l}=be(e),{borderClasses:i}=pe(e),{backgroundColorClasses:S,backgroundColorStyles:n}=q(A(e,"color")),{elevationClasses:r}=Se(e),{displayClasses:o,mobile:d}=Ae(e),{roundedClasses:m}=Ve(e),c=Ye(),V=ye(e,"modelValue",null,B=>!!B),{ssrBootStyles:x}=we(),{scopeId:I}=ze(),y=N(),E=P(!1),{runOpenDelay:_,runCloseDelay:M}=Ue(e,B=>{E.value=B}),f=v(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),h=v(()=>Oe(e.location,a.value)),b=v(()=>e.persistent),p=v(()=>!e.permanent&&(d.value||e.temporary)),T=v(()=>e.sticky&&!p.value&&h.value!=="bottom");D(()=>e.expandOnHover&&e.rail!=null,()=>{H(E,B=>w("update:rail",!B))}),D(()=>!e.disableResizeWatcher,()=>{H(p,B=>!e.permanent&&We(()=>V.value=!B))}),D(()=>!e.disableRouteWatcher&&!!c,()=>{H(c.currentRoute,()=>p.value&&(V.value=!1))}),H(()=>e.permanent,B=>{B&&(V.value=!0)}),e.modelValue==null&&!p.value&&(V.value=e.permanent||!d.value);const{isDragging:k,dragProgress:R}=pt({el:y,isActive:V,isTemporary:p,width:f,touchless:A(e,"touchless"),position:h}),z=v(()=>{const B=p.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):f.value;return k.value?B*R.value:B}),{layoutItemStyles:ee,layoutItemScrimStyles:He}=Q({id:e.name,order:v(()=>parseInt(e.order,10)),position:h,layoutSize:z,elementSize:f,active:v(()=>V.value||k.value),disableTransitions:v(()=>k.value),absolute:v(()=>e.absolute||T.value&&typeof te.value!="string")}),{isStuck:te,stickyStyles:Me}=gt({rootEl:y,isSticky:T,layoutItemStyles:ee}),ae=q(v(()=>typeof e.scrim=="string"?e.scrim:null)),Ie=v(()=>({...k.value?{opacity:R.value*.2,transition:"none"}:void 0,...He.value}));return Fe({VList:{bgColor:"transparent"}}),J(()=>{const B=t.image||e.image;return s(Ze,null,[s(e.tag,X({ref:y,onMouseenter:_,onMouseleave:M,class:["v-navigation-drawer",`v-navigation-drawer--${h.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":p.value,"v-navigation-drawer--persistent":b.value,"v-navigation-drawer--active":V.value,"v-navigation-drawer--sticky":T.value},l.value,S.value,i.value,o.value,r.value,m.value,e.class],style:[n.value,ee.value,x.value,Me.value,e.style]},I,u),{default:()=>{var le,oe,ne;return[B&&s("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?s(Xe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):s($e,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&s("div",{class:"v-navigation-drawer__prepend"},[(le=t.prepend)==null?void 0:le.call(t)]),s("div",{class:"v-navigation-drawer__content"},[(oe=t.default)==null?void 0:oe.call(t)]),t.append&&s("div",{class:"v-navigation-drawer__append"},[(ne=t.append)==null?void 0:ne.call(t)])]}}),s(qe,{name:"fade-transition"},{default:()=>[p.value&&(k.value||V.value)&&!!e.scrim&&s("div",X({class:["v-navigation-drawer__scrim",ae.backgroundColorClasses.value],style:[Ie.value,ae.backgroundColorStyles.value],onClick:()=>{b.value||(V.value=!1)}},I),null)]})])}),{isStuck:te}}}),Pt=Je({__name:"AdminLayout",setup(e){const g=Qe(),u=nt(),w=N(!0),t=N(!1),a=N([""]),l=async()=>{t.value=!0,t.value=!1},i=async()=>{u.getCurrent(),u.getEnrolled()};return U(()=>{i()}),(S,n)=>{const r=lt("RouterView");return me(),ue(rt,{app:""},{default:C(()=>[s(kt,{modelValue:w.value,"onUpdate:modelValue":n[1]||(n[1]=o=>w.value=o),app:"",color:"blue-grey-lighten-5 border-primary",border:1},{append:C(()=>[s(re,{"three-line":""},{default:C(()=>[s(se,{class:"py-2 border-t"},{append:C(()=>[at((me(),ue(ie,{onClick:l,icon:"",density:"compact",variant:"tonal",loading:t.value},{default:C(()=>[s($,{iconName:"logout-1"})]),_:1},8,["loading"])),[[ot,"Cerrar sesión","top"]])]),_:1})]),_:1})]),default:C(()=>[s(Ke,{elevation:"0",class:"rounded-0",color:"primary",variant:"tonal"},{default:C(()=>[s(et,{class:"text-center"},{default:C(()=>n[3]||(n[3]=[Y("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Logo_UNAP.png/640px-Logo_UNAP.png",alt:"logo",width:"70"},null,-1)])),_:1}),s(tt,{class:"border-t py-2"},{default:C(()=>{var o,d;return[Y("b",null,O(W(g).authState.user.name),1),n[4]||(n[4]=Y("br",null,null,-1)),Y("small",null,O((d=(o=W(g).authState.user)==null?void 0:o.role)==null?void 0:d.toUpperCase()),1)]}),_:1})]),_:1}),s(re,{nav:"",density:"compact",opened:a.value,"onUpdate:opened":n[0]||(n[0]=o=>a.value=o),color:"primary"},{default:C(()=>[s(se,{key:"panel",title:"Panel",to:"/",link:"",exact:""},{prepend:C(()=>[s($,{iconName:"element-4"})]),_:1})]),_:1},8,["opened"])]),_:1},8,["modelValue"]),s(dt,{floating:"",elevation:"0",app:""},{append:C(()=>n[5]||(n[5]=[])),default:C(()=>[s(ie,{icon:"",onClick:n[2]||(n[2]=o=>w.value=!w.value),size:"small"},{default:C(()=>[s($,{iconName:"textalign-justifycenter"})]),_:1}),s(ce)]),_:1}),s(ut,null,{default:C(()=>[s(r)]),_:1}),s(ft,{app:""},{default:C(()=>[s(ve,{label:"",class:"me-2"},{default:C(()=>{var o;return[de(O((o=W(u).current)==null?void 0:o.name),1)]}),_:1}),s(ve,{label:""},{default:C(()=>{var o;return[de(O((o=W(u).enrolled)==null?void 0:o.name),1)]}),_:1}),s(ce),n[6]||(n[6]=Y("small",null," v1.0 ",-1))]),_:1})]),_:1})}}});export{Pt as default};
