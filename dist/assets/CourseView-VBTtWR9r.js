import{d as U,b as c,I as O,c as L,aY as j,w as l,a as e,k as z,V as b,r as $,e as E,ab as G,g as N,aU as H,h as C,i as o,o as _,ae as W,aR as T,F as B,aS as Y,aT as P,f as k,aC as s,aW as D,aE as Z,aF as S,aZ as w,a_ as A,a$ as J}from"./index-CGaUJQDw.js";import{c as K,a as Q,d as X,e as h}from"./EnrollmentGroup.vue_vue_type_script_setup_true_lang-Cz4-3ja8.js";import{V as ee}from"./VForm-WbYHSL4C.js";import{V as F,a as v,b as le}from"./VRow-BN4UftVS.js";const y=g=>!!g||"Obligatorio",q=()=>({moduleId:null,curriculumId:null,paymentAmount:null,paymentMethod:null,paymentDate:null,paymentSequence:null}),R={moduleId:[y],curriculumId:[y],paymentAmount:[y],paymentMethod:[y],paymentDate:[y],paymentSequence:[y]},ae=U({__name:"Enrollment",props:{studentId:{},module:{}},emits:["success"],setup(g,{emit:x}){const n=x,V=g,r=c(!1),i=c(!1),m=c(R),a=c(Object.assign({},q())),M=async()=>{i.value=!0,await K(a.value)&&(n("success"),r.value=!1),i.value=!1},I=async()=>{a.value=Object.assign({},q()),m.value=R,a.value.moduleId=V.module.id,a.value.paymentAmount=V.module.prices,a.value.curriculumId=V.module.curriculumId};return O(()=>r.value,u=>{u&&I()}),(u,t)=>{const p=$("LnxIcon");return _(),L(j,{"max-width":"600",modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=f=>r.value=f),activator:"parent"},{default:l(()=>[e(ee,{ref:"formRef",onSubmit:z(M,["prevent"])},{default:l(()=>{var f;return[e(b,{title:(f=u.module)==null?void 0:f.name,subtitle:"Registrar pago"},{default:l(()=>[e(b,{color:"info",variant:"tonal",subtitle:"El pago debe ser realizado con un dia de anticipación.",elevation:"0",class:"rounded-0"},{prepend:l(()=>[e(p,{iconName:"info-circle"})]),_:1}),e(E,{class:"border-t border-b"},{default:l(()=>[e(F,null,{default:l(()=>[e(v,{cols:"6"},{default:l(()=>[e(G,{modelValue:a.value.paymentMethod,"onUpdate:modelValue":t[0]||(t[0]=d=>a.value.paymentMethod=d),items:[{title:"BN - VENTANILLA",value:7},{title:"BN - PAGALO.PE",value:9}],label:"Pago en",rules:m.value.paymentMethod},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(N,{modelValue:a.value.paymentSequence,"onUpdate:modelValue":t[1]||(t[1]=d=>a.value.paymentSequence=d),label:"Numero de operacion",type:"number",rules:m.value.paymentSequence},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(N,{modelValue:a.value.paymentAmount,"onUpdate:modelValue":t[2]||(t[2]=d=>a.value.paymentAmount=d),readonly:"",label:"Monto",type:"number",rules:m.value.paymentAmount},null,8,["modelValue","rules"])]),_:1}),e(v,{cols:"6"},{default:l(()=>[e(N,{modelValue:a.value.paymentDate,"onUpdate:modelValue":t[3]||(t[3]=d=>a.value.paymentDate=d),label:"Fecha",type:"date",rules:m.value.paymentDate},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1}),e(H,null,{default:l(()=>[e(C,{type:"button",variant:"tonal",color:"secondary",onClick:t[4]||(t[4]=d=>r.value=!1)},{default:l(()=>t[6]||(t[6]=[o("Cancelar")])),_:1}),e(C,{text:"Matricular",color:"primary",type:"submit",loading:i.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]}),_:1},512)]),_:1},8,["modelValue"])}}}),se=U({__name:"CourseView",setup(g){const x=J(),n=c(null),V=c([]),r=c(""),i=async()=>{r.value=x.params.id,n.value=await X(r.value,2),V.value=await h(n.value.id,2)};return W(()=>{i()}),(m,a)=>{var I;const M=$("LnxIcon");return _(),T(B,null,[e(b,{title:(I=n.value)==null?void 0:I.name,subtitle:"Cursos",class:"rounded-0",elevation:"0"},{append:l(()=>[e(C,{variant:"text",onClick:a[0]||(a[0]=u=>m.$router.go(-1))},{prepend:l(()=>[e(M,{iconName:"arrow-left-3",size:"large"})]),default:l(()=>[a[1]||(a[1]=o(" Atrás "))]),_:1})]),_:1},8,["title"]),e(le,null,{default:l(()=>[e(F,{class:""},{default:l(()=>[e(v,{cols:"12",md:"7",lg:"8"},{default:l(()=>[e(F,null,{default:l(()=>[(_(!0),T(B,null,Y(V.value,(u,t)=>(_(),L(v,{cols:"12",key:t},{default:l(()=>[e(b,{elevation:"0",class:"rounded-5 border",subtitle:u==null?void 0:u.area},{append:l(()=>{var p;return[((p=n.value)==null?void 0:p.isEnrolled)==!0?(_(),L(C,{key:0,density:"compact",variant:"outlined"},{default:l(()=>[e(Q,{course:u,onSuccess:i},null,8,["course"]),a[2]||(a[2]=o(" Inscríbete "))]),_:2},1024)):D("",!0)]}),default:l(()=>[e(P,{class:"pt-0"},{default:l(()=>[k("small",null,[k("strong",null,s(u.code)+" - ",1),o(" "+s(u.name),1)])]),_:2},1024),e(E,null,{default:l(()=>[k("small",null," Creditos "+s(u.credits)+" | "+s(u.hoursPractice)+" Hr. Practicas | "+s(u.hoursTheory)+" Hr. Teoricas ",1)]),_:2},1024)]),_:2},1032,["subtitle"])]),_:2},1024))),128))]),_:1})]),_:1}),e(v,{cols:"12",md:"5",lg:"4"},{default:l(()=>[e(b,{elevation:"0",class:"rounded-5 border"},{default:l(()=>{var u;return[e(P,null,{default:l(()=>a[3]||(a[3]=[o("Contenido")])),_:1}),e(E,null,{default:l(()=>[e(Z,{"two-line":""},{default:l(()=>[e(S,null,{default:l(()=>[e(w,null,{default:l(()=>a[4]||(a[4]=[o(" Cursos ")])),_:1}),e(A,{"three-line":""},{default:l(()=>{var t,p,f;return[o(s((t=n.value)==null?void 0:t.coursesCount)+", "+s((p=n.value)==null?void 0:p.hoursPractice)+" Hr. Practicas, "+s((f=n.value)==null?void 0:f.hoursTheory)+" Hr. Teoricas ",1)]}),_:1})]),_:1}),e(S,null,{default:l(()=>[e(w,null,{default:l(()=>a[5]||(a[5]=[o(" Cantidad de creditos ")])),_:1}),e(A,null,{default:l(()=>{var t;return[o(s((t=n.value)==null?void 0:t.credits),1)]}),_:1})]),_:1}),e(S,null,{default:l(()=>[e(w,null,{default:l(()=>a[6]||(a[6]=[o(" Area(s) ")])),_:1}),e(A,null,{default:l(()=>{var t;return[o(s((t=n.value)==null?void 0:t.areas),1)]}),_:1})]),_:1}),e(S,null,{default:l(()=>[e(w,null,{default:l(()=>a[7]||(a[7]=[o(" Precio de matricula ")])),_:1}),e(A,null,{default:l(()=>{var t;return[o(" S/. "+s((t=n.value)==null?void 0:t.prices),1)]}),_:1})]),_:1})]),_:1})]),_:1}),((u=n.value)==null?void 0:u.isEnrolled)==!1?(_(),L(H,{key:0},{default:l(()=>[e(C,{block:"",class:"mt-2"},{default:l(()=>[a[8]||(a[8]=o(" Matricular ")),e(ae,{module:n.value,onSuccess:i},null,8,["module"])]),_:1})]),_:1})):D("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{se as default};
